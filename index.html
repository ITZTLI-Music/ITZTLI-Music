<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ITZTLI | Music</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Only the script we need -->
    <script type="module" src="vanilla-player.js"></script>
</head>
<body>

    <!-- Video Background -->
    <div class="video-container" id="video-container">
        <video autoplay muted loop playsinline id="bg-video" 
            style="border: 1px solid red; visibility: visible;">
            <source src="./assets/your-ai-video.mp4" type="video/mp4">
            Your browser does not support video tags.
        </video>
    </div>

    <!-- Navigation Bar -->
    <nav>
        <ul>
            <li><a href="#music">Music</a></li>
            <li><a href="#about">About</a></li>
            <li><a href="#merch">Merch</a></li>
            <li><a href="#contact">Contact</a></li>
        </ul>
    </nav>

    <!-- Hero Section -->
    <header class="hero">
        <h1>ITZTLI</h1>
        <p>ADELANTE | SATYR & SAVIOR</p>
    </header>

    <!-- Music Section with Audio Player -->
    <section id="music">
        <h2>Listen Now</h2>
        <div id="audio-player-root"></div>
    </section>

    <!-- About Section -->
    <section id="about">
        <h2>About</h2>
        <div class="about-content">
            <p>Add your artist bio here...</p>
        </div>
    </section>

    <!-- Merch Section -->
    <section id="merch">
        <h2>Merch</h2>
        <div class="merch-placeholder">
            <h3>Merch Coming Soon</h3>
            <p>Under Construction</p>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact">
        <h2>Message Me</h2>
        <form id="contact-form">
            <input type="text" id="name" name="name" placeholder="Your Name" required>
            <input type="email" id="email" name="email" placeholder="Your Email" required>
            <textarea id="message" name="message" placeholder="Your Message" required></textarea>
            <button type="submit">Send</button>
        </form>
        <p id="form-response"></p>
    </section>

    <!-- Footer with Social Links -->
    <footer>
        <p>Connect with me:</p>
        <div class="social-links">
            <a href="https://www.youtube.com/@ITZTLI-music" target="_blank">Youtube</a> |
            <a href="https://www.instagram.com/itztli.music/" target="_blank">Instagram</a> |
            <a href="https://soundcloud.com/itztli-22237560" target="_blank">SoundCloud</a> |
            <a href="https://itztli.bandcamp.com/album/adelante" target="_blank">Bandcamp</a>
        </div>
    </footer>

    <!-- Add this right before the closing </body> tag in index.html -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM fully loaded');
            
            // Debug video element
            const videoElement = document.getElementById('bg-video');
            const videoContainer = document.getElementById('video-container');
            
            console.log('Video container found:', videoContainer);
            console.log('Video container dimensions:', 
                videoContainer ? 
                `Width: ${videoContainer.offsetWidth}, Height: ${videoContainer.offsetHeight}` : 
                'Unknown');
            
            if (videoElement) {
                console.log('Video element found:', videoElement);
                console.log('Video dimensions:', 
                    `Width: ${videoElement.offsetWidth}, Height: ${videoElement.offsetHeight}`);
                console.log('Video source:', videoElement.querySelector('source').src);
                console.log('Video ready state:', videoElement.readyState);
                console.log('Video paused state:', videoElement.paused);
                
                // Check video styling
                const videoStyle = window.getComputedStyle(videoElement);
                console.log('Video CSS display:', videoStyle.display);
                console.log('Video CSS visibility:', videoStyle.visibility);
                console.log('Video CSS z-index:', videoStyle.zIndex);
                console.log('Video CSS position:', videoStyle.position);
                
                // Force video to play
                videoElement.load();
                
                setTimeout(() => {
                    console.log('Attempting to play video after 1 second delay');
                    const playPromise = videoElement.play();
                    if (playPromise !== undefined) {
                        playPromise.then(() => {
                            console.log('Video started playing!');
                        }).catch(e => {
                            console.error('Video play failed:', e);
                        });
                    }
                    
                    // Final check after 2 seconds
                    setTimeout(() => {
                        console.log('Final video state check:');
                        console.log('- Paused:', videoElement.paused);
                        console.log('- Current time:', videoElement.currentTime);
                        console.log('- Duration:', videoElement.duration);
                        console.log('- Ready state:', videoElement.readyState);
                        console.log('- Network state:', videoElement.networkState);
                    }, 2000);
                }, 1000);
            } else {
                console.error('Video element not found');
            }
        });
        </script>
</body>
</html>